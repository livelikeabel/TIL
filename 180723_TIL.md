출처 : https://velopert.com/2350



API를 사용하는 웹 서비스를 개발할 때, 토큰을 사용하여 유저들의 인증작업을 처리하는 것이 가장 좋은 방법이다.



토큰 기반 인증 시스템을 사용하는 이유



 1. StateLess 서버 

StateFul 서버 : 클라이언트에게서 요청을 받을 때 마다, 클라이언트의 상태를 계속 유지하고, 이 정보를 서비스 제공에 이용한다.

( ex. 세션을 유지하는 웹서버. 유저가 로그인을 하면, 세션에 로그인이 되었다고 저장을 해 두고, 서비스를 제공 할 때에 그 데이터를 사용한다. 세션은 서버컴퓨터의 메모리 또는 DB에 담는다. )

StateLess 서버 : 상태를 유지하지 않는다. 상태정보를 저장하지 않으면, 서버는 클라쪽에서 들어보는 요청만으로 작업을 처리한다. 이렇게 상태가 없는 경우 클라이언트와 서버의 연결고리가 없기 때문에 서버의 확장성(Scalability)이 높아진다.



2. 모바일 어플리케이션에 적합

쿠키같은 인증시스템은 이상적이지 않다. 토큰 기반 인증으로 번거로움을 해결 할 수 있다.



3. 인증정보를 다른 어플리케이션으로 전달

대표적으로 OAuth가 있다. 페북/구글 같은 소셜 계정들을 이용해서 다른 웹서비스에서도 로그인 할 수 있게 한다.



4. 보안

 토큰 기반 인증 시스템을 사용하여 어플리케이션의 보안을 높일 수 있다.(해킹의 위험에서 벗어나는 것은 아니다.) 



토큰을 사용하게 된 이유



서버 기반 인증

기존의 인증 시스템에서는 서버측에서 유저들의 정보를 기억하고 있어야 했다. 세션을 유지하는 방법 ( 메모리 / 디스크 / 데이터베이스에 이를 담는다. )

-> 웹/모바일 웹 어플리케이션들이 부흥하게 되면서, 이런 방식의 인증 시스템은 서버를 확장하기에 어려워지는 단점을 보였다.



서버 기반 인증의 문제점

세션 - 세션을 서버에 저장하면 유저의 수가 늘어날 시, 서버에 과부하 걸린다.

확장성 - 분산시스템을 설계하는 과정이 매우 복잡하게 된다.

cors - 쿠키는 단일 도메인 및 서브 도메인에서만 작동하도록 설계되어있다. (쿠키를 여러 도메인에서 관리하는 것은 좀 번거롭다.) 

